<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sys.stm.domains.messenger.dao.ChatRoomParticipantMapper">
    <insert id="createChatRoomParticipant"
            parameterType="com.sys.stm.domains.messenger.domain.ChatRoomParticipant">
        INSERT INTO "chat_room_participants" ("member_id", "chat_room_id")
        values(#{memberId},#{chatRoomId})
    </insert>
    <select id="findMemberByMemberId">
        SELECT count("id")
        FROM "member"
        WHERE "id" = #{id}
    </select>
    <delete id="deleteFromChatRoom">
        DELETE "chat_room_participants"
        WHERE "member_id" = #{memberId}
        AND "chat_room_id" = #{id}
    </delete>
</mapper>

