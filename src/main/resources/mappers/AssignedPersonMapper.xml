<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sys.stm.domains.assignedPerson.dao.AssignedPersonRepository">
    <insert id="createAssignedPerson" parameterType="com.sys.stm.domains.assignedPerson.domain.AssignedPerson">
        INSERT INTO "assigned_person"(
            "project_id", "member_id", "role", "created_at", "updated_at", "is_deleted"
        ) VALUES (
                     #{projectId}, #{memberId}, #{role}, #{createdAt}, #{updatedAt}, #{isDeleted}
                 )
    </insert>

    <update id="deleteAssignedPerson" parameterType="com.sys.stm.domains.assignedPerson.domain.AssignedPerson">
        UPDATE "assigned_person"
        SET
            "is_deleted" = 1,
            "updated_at" = #{updatedAt}
        WHERE "id" = #{id}
    </update>

<!--    <update id="updateRole" parameterType="long"> &lt;!&ndash; 파라미터 타입 고민 &ndash;&gt;-->
<!--        UPDATE "assigned_person"-->
<!--        SET "is_deleted" = 1-->
<!--        WHERE "id" = #{id}-->
<!--    </update>-->
</mapper>